# MUSINSA CATEGORY API

무신사 카테고리 관련 API 서버입니다.

## 구현 범위

이 프로젝트는 다음과 같은 기능을 구현합니다:

1. 카테고리별 최저가격 브랜드 및 상품 가격, 총액 조회 API
    - 각 카테고리에서 가장 저렴한 가격으로 제공되는 브랜드와 상품의 정보를 조회할 수 있습니다.
2. 단일 브랜드의 최저가격 상품 조회 API
    - 특정 브랜드를 기준으로, 모든 카테고리에서 가장 저렴한 상품들을 조회하고 그 총액을 계산할 수 있습니다.
3. 카테고리별 최저/최고 가격 브랜드 및 상품 조회 API
    - 지정된 카테고리 내에서 가장 저렴한 상품과 가장 비싼 상품을 제공하는 브랜드 정보를 조회할 수 있습니다.
4. 브랜드 및 상품 추가 / 업데이트 / 삭제 API
    - 새로운 브랜드와 상품을 추가하고, 기존 데이터를 업데이트하거나 삭제하는 기능을 제공합니다.

## 환경 설정

- Java 17
- Spring Boot 3.2.0
- Gradle
- H2 Database (개발용)

## 빌드 및 실행 방법

### 빌드

프로젝트 루트 디렉토리에서 다음 명령을 실행합니다:

Gradle Wrapper 업데이트
프로젝트의 Gradle Wrapper를 8.8 버전으로 업데이트하려면 다음 명령을 실행합니다:

```bash
./gradlew wrapper --gradle-version 8.8
```

```bash
./gradlew clean build
```

### 테스트

단위 테스트를 실행하려면 다음 명령을 사용합니다:

```bash
./gradlew test
```

테스트는 다음 영역을 포함합니다:

- Spring Boot 테스트: 통합 테스트를 통해 전체 애플리케이션의 동작을 검증합니다.
- Mockito 테스트: 단위 테스트를 통해 각 컴포넌트의 동작을 검증합니다.
- Controller 테스트
- Serice 테스트
- Repository 테스트

### 실행

#### 개발 환경 실행

1. 기본 설정 (H2 데이터베이스 사용)

```bash
./gradlew bootRun
```

#### H2 데이터베이스 콘솔 접속

1. 애플리케이션을 실행한 후, 브라우저에서 http://localhost:8080/h2-console 로 접속합니다.
2. JDBC URL에 `jdbc:h2:mem:testdb`를 입력하고, 연결 버튼을 클릭합니다.
3. 제공된 SQL 스크립트를 실행하여 데이터를 입력합니다.

## API 문서

Swagger UI를 통해 API 문서를 확인할 수 있습니다. 애플리케이션을 실행한 후 브라우저에서 http://localhost:8080/swagger-ui.html 에 접속하면 Swagger UI를 확인할 수
있습니다.

## 추가 정보

- 이 프로젝트는 Spring Boot 3.2 이상 버전을 사용합니다.
- 기본적으로 UTF-8 인코딩을 사용합니다.
- 개발 환경에서는 H2 인메모리 데이터베이스를 사용합니다.
- API 문서는 Swagger를 통해 자동으로 생성되며, 항상 최신 상태를 유지합니다.
- 데이터베이스 마이그레이션 및 초기화 스크립트는 src/main/resources 디렉토리에 위치합니다.

